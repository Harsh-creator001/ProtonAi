{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/patie/Downloads/protonai/app/api/upload/route.ts"],"sourcesContent":["import { put, del } from \"@vercel/blob\"\nimport { type NextRequest, NextResponse } from \"next/server\"\n\nexport async function POST(request: NextRequest) {\n  try {\n    const formData = await request.formData()\n    const file = formData.get(\"file\") as File\n    const type = formData.get(\"type\") as string // \"file\" or \"image\"\n\n    if (!file) {\n      return NextResponse.json({ error: \"No file provided\" }, { status: 400 })\n    }\n\n    // Validate file size (max 50MB)\n    if (file.size > 50 * 1024 * 1024) {\n      return NextResponse.json({ error: \"File size exceeds 50MB limit\" }, { status: 400 })\n    }\n\n    // Validate file type for images\n    if (type === \"image\" && !file.type.startsWith(\"image/\")) {\n      return NextResponse.json({ error: \"File must be an image\" }, { status: 400 })\n    }\n\n    const filename = `${type}s/${Date.now()}-${file.name}`\n\n    const blob = await put(filename, file, {\n      access: \"public\",\n    })\n\n    return NextResponse.json({\n      url: blob.url,\n      filename: file.name,\n      size: file.size,\n      type: file.type,\n      pathname: blob.pathname,\n    })\n  } catch (error) {\n    console.error(\"Upload error:\", error)\n    return NextResponse.json({ error: \"Upload failed\" }, { status: 500 })\n  }\n}\n\nexport async function DELETE(request: NextRequest) {\n  try {\n    const { url } = await request.json()\n\n    if (!url) {\n      return NextResponse.json({ error: \"No URL provided\" }, { status: 400 })\n    }\n\n    await del(url)\n\n    return NextResponse.json({ success: true })\n  } catch (error) {\n    console.error(\"Delete error:\", error)\n    return NextResponse.json({ error: \"Delete failed\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,WAAW,MAAM,QAAQ,QAAQ;QACvC,MAAM,OAAO,SAAS,GAAG,CAAC;QAC1B,MAAM,OAAO,SAAS,GAAG,CAAC,OAAkB,oBAAoB;;QAEhE,IAAI,CAAC,MAAM;YACT,OAAO,2LAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAmB,GAAG;gBAAE,QAAQ;YAAI;QACxE;QAEA,gCAAgC;QAChC,IAAI,KAAK,IAAI,GAAG,KAAK,OAAO,MAAM;YAChC,OAAO,2LAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA+B,GAAG;gBAAE,QAAQ;YAAI;QACpF;QAEA,gCAAgC;QAChC,IAAI,SAAS,WAAW,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,WAAW;YACvD,OAAO,2LAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAwB,GAAG;gBAAE,QAAQ;YAAI;QAC7E;QAEA,MAAM,WAAW,GAAG,KAAK,EAAE,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,IAAI,EAAE;QAEtD,MAAM,OAAO,MAAM,IAAA,qNAAG,EAAC,UAAU,MAAM;YACrC,QAAQ;QACV;QAEA,OAAO,2LAAY,CAAC,IAAI,CAAC;YACvB,KAAK,KAAK,GAAG;YACb,UAAU,KAAK,IAAI;YACnB,MAAM,KAAK,IAAI;YACf,MAAM,KAAK,IAAI;YACf,UAAU,KAAK,QAAQ;QACzB;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iBAAiB;QAC/B,OAAO,2LAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAgB,GAAG;YAAE,QAAQ;QAAI;IACrE;AACF;AAEO,eAAe,OAAO,OAAoB;IAC/C,IAAI;QACF,MAAM,EAAE,GAAG,EAAE,GAAG,MAAM,QAAQ,IAAI;QAElC,IAAI,CAAC,KAAK;YACR,OAAO,2LAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAkB,GAAG;gBAAE,QAAQ;YAAI;QACvE;QAEA,MAAM,IAAA,qNAAG,EAAC;QAEV,OAAO,2LAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAC3C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iBAAiB;QAC/B,OAAO,2LAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAgB,GAAG;YAAE,QAAQ;QAAI;IACrE;AACF"}}]
}